import{t as P,c as B,r as S,j as p,e as F,f as U,A as H,m as $}from"./index-79e6459d.js";import{H as W}from"./HowWork-05d5f42d.js";import{M as X}from"./Map-df783fa1.js";import{L as q}from"./Lider-9446b650.js";import{R as G}from"./Reviews-1ce7aae5.js";import{P as I}from"./Product-910ab705.js";import{S as Y}from"./ScrollTop-24bd282c.js";import"./StarRating-352e95ec.js";function D(a,h){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(a,h)}function Z(a,h){a.prototype=Object.create(h.prototype),a.prototype.constructor=a,D(a,h)}function T(a){return a&&a.stopPropagation&&a.stopPropagation(),a&&a.preventDefault&&a.preventDefault(),!1}function N(a){return a==null?[]:Array.isArray(a)?a.slice():[a]}function j(a){return a!==null&&a.length===1?a[0]:a.slice()}function w(a){Object.keys(a).forEach(h=>{typeof document<"u"&&document.addEventListener(h,a[h],!1)})}function M(a,h){return E(function(r,e){let t=r;return t<=e.min&&(t=e.min),t>=e.max&&(t=e.max),t}(a,h),h)}function E(a,h){const r=(a-h.min)%h.step;let e=a-r;return 2*Math.abs(r)>=h.step&&(e+=r>0?h.step:-h.step),parseFloat(e.toFixed(5))}let z=function(a){function h(e){var t;(t=a.call(this,e)||this).onKeyUp=()=>{t.onEnd()},t.onMouseUp=()=>{t.onEnd(t.getMouseEventMap())},t.onTouchEnd=s=>{s.preventDefault(),t.onEnd(t.getTouchEventMap())},t.onBlur=()=>{t.setState({index:-1},t.onEnd(t.getKeyDownEventMap()))},t.onMouseMove=s=>{t.setState({pending:!0});const i=t.getMousePosition(s),c=t.getDiffPosition(i[0]),l=t.getValueFromPosition(c);t.move(l)},t.onTouchMove=s=>{if(s.touches.length>1)return;t.setState({pending:!0});const i=t.getTouchPosition(s);if(t.isScrolling===void 0){const m=i[0]-t.startPosition[0],d=i[1]-t.startPosition[1];t.isScrolling=Math.abs(d)>Math.abs(m)}if(t.isScrolling)return void t.setState({index:-1});const c=t.getDiffPosition(i[0]),l=t.getValueFromPosition(c);t.move(l)},t.onKeyDown=s=>{if(!(s.ctrlKey||s.shiftKey||s.altKey||s.metaKey))switch(t.setState({pending:!0}),s.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":s.preventDefault(),t.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":s.preventDefault(),t.moveUpByStep();break;case"Home":s.preventDefault(),t.move(t.props.min);break;case"End":s.preventDefault(),t.move(t.props.max);break;case"PageDown":s.preventDefault(),t.moveDownByStep(t.props.pageFn(t.props.step));break;case"PageUp":s.preventDefault(),t.moveUpByStep(t.props.pageFn(t.props.step))}},t.onSliderMouseDown=s=>{if(!t.props.disabled&&s.button!==2){if(t.setState({pending:!0}),!t.props.snapDragDisabled){const i=t.getMousePosition(s);t.forceValueFromPosition(i[0],c=>{t.start(c,i[0]),w(t.getMouseEventMap())})}T(s)}},t.onSliderClick=s=>{if(!t.props.disabled&&t.props.onSliderClick&&!t.hasMoved){const i=t.getMousePosition(s),c=M(t.calcValue(t.calcOffsetFromPosition(i[0])),t.props);t.props.onSliderClick(c)}},t.createOnKeyDown=s=>i=>{t.props.disabled||(t.start(s),w(t.getKeyDownEventMap()),T(i))},t.createOnMouseDown=s=>i=>{if(t.props.disabled||i.button===2)return;t.setState({pending:!0});const c=t.getMousePosition(i);t.start(s,c[0]),w(t.getMouseEventMap()),T(i)},t.createOnTouchStart=s=>i=>{if(t.props.disabled||i.touches.length>1)return;t.setState({pending:!0});const c=t.getTouchPosition(i);t.startPosition=c,t.isScrolling=void 0,t.start(s,c[0]),w(t.getTouchEventMap()),function(l){l.stopPropagation&&l.stopPropagation()}(i)},t.handleResize=()=>{const s=window.setTimeout(()=>{t.pendingResizeTimeouts.shift(),t.resize()},0);t.pendingResizeTimeouts.push(s)},t.renderThumb=(s,i)=>{const c=t.props.thumbClassName+" "+t.props.thumbClassName+"-"+i+" "+(t.state.index===i?t.props.thumbActiveClassName:""),l={ref:d=>{t["thumb"+i]=d},key:t.props.thumbClassName+"-"+i,className:c,style:s,onMouseDown:t.createOnMouseDown(i),onTouchStart:t.createOnTouchStart(i),onFocus:t.createOnKeyDown(i),tabIndex:0,role:"slider","aria-orientation":t.props.orientation,"aria-valuenow":t.state.value[i],"aria-valuemin":t.props.min,"aria-valuemax":t.props.max,"aria-label":Array.isArray(t.props.ariaLabel)?t.props.ariaLabel[i]:t.props.ariaLabel,"aria-labelledby":Array.isArray(t.props.ariaLabelledby)?t.props.ariaLabelledby[i]:t.props.ariaLabelledby,"aria-disabled":t.props.disabled},m={index:i,value:j(t.state.value),valueNow:t.state.value[i]};return t.props.ariaValuetext&&(l["aria-valuetext"]=typeof t.props.ariaValuetext=="string"?t.props.ariaValuetext:t.props.ariaValuetext(m)),t.props.renderThumb(l,m)},t.renderTrack=(s,i,c)=>{const l={key:t.props.trackClassName+"-"+s,className:t.props.trackClassName+" "+t.props.trackClassName+"-"+s,style:t.buildTrackStyle(i,t.state.upperBound-c)},m={index:s,value:j(t.state.value)};return t.props.renderTrack(l,m)};let n=N(e.value);n.length||(n=N(e.defaultValue)),t.pendingResizeTimeouts=[];const o=[];for(let s=0;s<n.length;s+=1)n[s]=M(n[s],e),o.push(s);return t.resizeObserver=null,t.resizeElementRef=P.createRef(),t.state={index:-1,upperBound:0,sliderLength:0,value:n,zIndices:o},t}Z(h,a);var r=h.prototype;return r.componentDidMount=function(){typeof window<"u"&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},h.getDerivedStateFromProps=function(e,t){const n=N(e.value);return n.length?t.pending?null:{value:n.map(o=>M(o,e))}:null},r.componentDidUpdate=function(){this.state.upperBound===0&&this.resize()},r.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},r.onEnd=function(e){e&&function(t){Object.keys(t).forEach(n=>{typeof document<"u"&&document.removeEventListener(n,t[n],!1)})}(e),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},r.getValue=function(){return j(this.state.value)},r.getClosestIndex=function(e){let t=Number.MAX_VALUE,n=-1;const{value:o}=this.state,s=o.length;for(let i=0;i<s;i+=1){const c=this.calcOffset(o[i]),l=Math.abs(e-c);l<t&&(t=l,n=i)}return n},r.getMousePosition=function(e){return[e["page"+this.axisKey()],e["page"+this.orthogonalAxisKey()]]},r.getTouchPosition=function(e){const t=e.touches[0];return[t["page"+this.axisKey()],t["page"+this.orthogonalAxisKey()]]},r.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},r.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},r.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},r.getValueFromPosition=function(e){const t=e/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return M(this.state.startValue+t,this.props)},r.getDiffPosition=function(e){let t=e-this.state.startPosition;return this.props.invert&&(t*=-1),t},r.resize=function(){const{slider:e,thumb0:t}=this;if(!e||!t)return;const n=this.sizeKey(),o=e.getBoundingClientRect(),s=e[n],i=o[this.posMaxKey()],c=o[this.posMinKey()],l=t.getBoundingClientRect()[n.replace("client","").toLowerCase()],m=s-l,d=Math.abs(i-c);this.state.upperBound===m&&this.state.sliderLength===d&&this.state.thumbSize===l||this.setState({upperBound:m,sliderLength:d,thumbSize:l})},r.calcOffset=function(e){const t=this.props.max-this.props.min;return t===0?0:(e-this.props.min)/t*this.state.upperBound},r.calcValue=function(e){return e/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},r.calcOffsetFromPosition=function(e){const{slider:t}=this,n=t.getBoundingClientRect(),o=n[this.posMaxKey()],s=n[this.posMinKey()];let i=e-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?o:s));return this.props.invert&&(i=this.state.sliderLength-i),i-=this.state.thumbSize/2,i},r.forceValueFromPosition=function(e,t){const n=this.calcOffsetFromPosition(e),o=this.getClosestIndex(n),s=M(this.calcValue(n),this.props),i=this.state.value.slice();i[o]=s;for(let c=0;c<i.length-1;c+=1)if(i[c+1]-i[c]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:i},()=>{t(o),this.fireChangeEvent("onChange")})},r.clearPendingResizeTimeouts=function(){do{const e=this.pendingResizeTimeouts.shift();clearTimeout(e)}while(this.pendingResizeTimeouts.length)},r.start=function(e,t){const n=this["thumb"+e];n&&n.focus();const{zIndices:o}=this.state;o.splice(o.indexOf(e),1),o.push(e),this.setState(s=>({startValue:s.value[e],startPosition:t!==void 0?t:s.startPosition,index:e,zIndices:o}))},r.moveUpByStep=function(e){e===void 0&&(e=this.props.step);const t=this.state.value[this.state.index],n=M(this.props.invert&&this.props.orientation==="horizontal"?t-e:t+e,this.props);this.move(Math.min(n,this.props.max))},r.moveDownByStep=function(e){e===void 0&&(e=this.props.step);const t=this.state.value[this.state.index],n=M(this.props.invert&&this.props.orientation==="horizontal"?t+e:t-e,this.props);this.move(Math.max(n,this.props.min))},r.move=function(e){const t=this.state.value.slice(),{index:n}=this.state,{length:o}=t,s=t[n];if(e===s)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;const{pearling:i,max:c,min:l,minDistance:m}=this.props;if(!i){if(n>0){const d=t[n-1];e<d+m&&(e=d+m)}if(n<o-1){const d=t[n+1];e>d-m&&(e=d-m)}}t[n]=e,i&&o>1&&(e>s?(this.pushSucceeding(t,m,n),function(d,g,y,v){for(let f=0;f<d;f+=1){const x=v-f*y;g[d-1-f]>x&&(g[d-1-f]=x)}}(o,t,m,c)):e<s&&(this.pushPreceding(t,m,n),function(d,g,y,v){for(let f=0;f<d;f+=1){const x=v+f*y;g[f]<x&&(g[f]=x)}}(o,t,m,l))),this.setState({value:t},this.fireChangeEvent.bind(this,"onChange"))},r.pushSucceeding=function(e,t,n){let o,s;for(o=n,s=e[o]+t;e[o+1]!==null&&s>e[o+1];o+=1,s=e[o]+t)e[o+1]=E(s,this.props)},r.pushPreceding=function(e,t,n){for(let o=n,s=e[o]-t;e[o-1]!==null&&s<e[o-1];o-=1,s=e[o]-t)e[o-1]=E(s,this.props)},r.axisKey=function(){return this.props.orientation==="vertical"?"Y":"X"},r.orthogonalAxisKey=function(){return this.props.orientation==="vertical"?"X":"Y"},r.posMinKey=function(){return this.props.orientation==="vertical"?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},r.posMaxKey=function(){return this.props.orientation==="vertical"?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},r.sizeKey=function(){return this.props.orientation==="vertical"?"clientHeight":"clientWidth"},r.fireChangeEvent=function(e){this.props[e]&&this.props[e](j(this.state.value),this.state.index)},r.buildThumbStyle=function(e,t){const n={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(t)+1};return n[this.posMinKey()]=e+"px",n},r.buildTrackStyle=function(e,t){const n={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return n[this.posMinKey()]=e,n[this.posMaxKey()]=t,n},r.buildMarkStyle=function(e){var t;return(t={position:"absolute"})[this.posMinKey()]=e,t},r.renderThumbs=function(e){const{length:t}=e,n=[];for(let s=0;s<t;s+=1)n[s]=this.buildThumbStyle(e[s],s);const o=[];for(let s=0;s<t;s+=1)o[s]=this.renderThumb(n[s],s);return o},r.renderTracks=function(e){const t=[],n=e.length-1;t.push(this.renderTrack(0,0,e[0]));for(let o=0;o<n;o+=1)t.push(this.renderTrack(o+1,e[o],e[o+1]));return t.push(this.renderTrack(n+1,e[n],this.state.upperBound)),t},r.renderMarks=function(){let{marks:e}=this.props;const t=this.props.max-this.props.min+1;return typeof e=="boolean"?e=Array.from({length:t}).map((n,o)=>o):typeof e=="number"&&(e=Array.from({length:t}).map((n,o)=>o).filter(n=>n%e==0)),e.map(parseFloat).sort((n,o)=>n-o).map(n=>{const o=this.calcOffset(n),s={key:n,className:this.props.markClassName,style:this.buildMarkStyle(o)};return this.props.renderMark(s)})},r.render=function(){const e=[],{value:t}=this.state,n=t.length;for(let c=0;c<n;c+=1)e[c]=this.calcOffset(t[c],c);const o=this.props.withTracks?this.renderTracks(e):null,s=this.renderThumbs(e),i=this.props.marks?this.renderMarks():null;return P.createElement("div",{ref:c=>{this.slider=c,this.resizeElementRef.current=c},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},o,s,i)},h}(P.Component);z.displayName="ReactSlider",z.defaultProps={min:0,max:100,step:1,pageFn:a=>10*a,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:a=>P.createElement("div",a),renderTrack:a=>P.createElement("div",a),renderMark:a=>P.createElement("span",a)};var J=z;function Q({products:a,dispatch:h,pricesFilter:r,setValues:e}){const t=a.map(l=>l.price),n=+t.sort((l,m)=>l-m)[0],o=+t.sort((l,m)=>m-l)[0],[s,i]=S.useState([r[0],r[1]]);function c(l){e(l),i(l),h({type:"CHANGE_PRICE",payload:[s[0],s[1]]})}return p.jsxs("div",{className:"catalog_range",children:[p.jsx(J,{className:"range_slider",value:s,min:n,max:o,onChange:c}),p.jsxs("div",{className:"range_values",children:[p.jsxs("div",{className:"range_item",children:[p.jsx("h2",{children:s[0]}),p.jsx("h3",{children:"AZN"})]}),p.jsxs("div",{className:"range_item",children:[p.jsx("h2",{children:s[1]}),p.jsx("h3",{children:"AZN"})]})]})]})}const tt=a=>a,et=B(tt)(Q);function st({categories:a,products:h,pricesFilter:r,dinWords:e,language:t,linkCat:n,dispatch:o}){const s=e[t].catalog,i=S.useRef(null),c=u=>d==s.sortItem1?u.sort((b,C)=>{const _=b.title,R=C.title;return _<R?-1:_>R?1:0}):d==s.sortItem2?u.sort((b,C)=>b.price-C.price):u.sort((b,C)=>C.price-b.price),[l,m]=S.useState([r[0],r[1]]),[d,g]=S.useState(s.sortItem1);S.useEffect(()=>{g(s.sortItem1)},[t]);const[y,v]=S.useState(!1),f=h.filter(u=>n?u.category_id==n&&u.price>l[0]&&u.price<l[1]:u.price>l[0]&&u.price<l[1]),x=c(f),[K,O]=S.useState([]),L=u=>{o({type:"CHECK_CAT",payload:""}),u.target.checked==!0?O(k=>[...k,+u.target.value]):O(k=>k.filter(b=>b!=+u.target.value))},V=h.filter(u=>n?u.category_id==n&&u.price>l[0]&&u.price<l[1]:K.includes(u.category_id)&&u.price>l[0]&&u.price<l[1]),A=c(V);return F(i,()=>{y&&v(!1)}),p.jsxs(p.Fragment,{children:[p.jsx("img",{src:"./icons/flower_bg.svg",className:"flower_cat",alt:""}),p.jsx("h1",{className:"container catalog_title",children:s.catalog}),p.jsxs("div",{className:"catalog container",children:[p.jsxs("div",{className:"filter",children:[p.jsx("h2",{className:"filter_title",children:s.category}),p.jsx("ul",{children:a.map(u=>p.jsx("li",{children:p.jsxs("label",{children:[" ",p.jsx("input",{type:"checkbox",onClick:L,value:u.id}),u==null?void 0:u.category]})},u==null?void 0:u.id))}),p.jsx("h2",{className:"filter_title",children:s.price}),p.jsx(et,{setValues:m})]}),p.jsx("div",{className:"cataloq_products",children:p.jsxs("div",{className:"cataloq_products_hero",children:[p.jsxs("div",{className:"sorting",children:[p.jsxs("p",{children:[s.sorting," ",p.jsxs("button",{onClick:()=>v(!y),children:[d," ",p.jsx(U,{})]})]}),y&&p.jsx(H,{children:p.jsxs($.ul,{initial:{y:20},animate:{y:0},exit:{y:20},className:"sort_dropdown",ref:i,children:[p.jsx("p",{className:d==`${s.sortItem1}`?"sortP":"notSort",onClick:()=>{g(s.sortItem1),v(!1)},children:s.sortItem1}),p.jsx("p",{className:d==`${s.sortItem2}`?"sortP":"notSort",onClick:()=>{g(s.sortItem2),v(!1)},children:s.sortItem2}),p.jsx("p",{className:d==`${s.sortItem3}`?"sortP":"notSort",onClick:()=>{g(s.sortItem3),v(!1)},children:s.sortItem3})]})})]}),K.length||n?A.length?A.map(u=>p.jsx(I,{data:u},u.id)):p.jsx("h2",{className:"pro_not_found",children:s.notFound}):x.map(u=>p.jsx(I,{data:u},u.id))]})})]}),p.jsx(q,{}),p.jsx(G,{}),p.jsx(W,{}),p.jsx(X,{}),p.jsx(Y,{})]})}const nt=a=>a,ht=B(nt)(st);export{ht as default};
