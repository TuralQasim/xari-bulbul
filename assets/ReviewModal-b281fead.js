import{j as t,r as b,c as Oe,A as Xe,m as Ze,d as Qe}from"./index-8d88839b.js";import{F as K,S as et}from"./StarRating-92349f02.js";var Pe={},Ae;Object.defineProperty(Pe,"__esModule",{value:!0});var j=t,p=b,c=function(){return c=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},c.apply(this,arguments)};function Ie(e,r,n){if(n||arguments.length===2)for(var a,o=0,h=r.length;o<h;o++)!a&&o in r||(a||(a=Array.prototype.slice.call(r,0,o)),a[o]=r[o]);return e.concat(a||Array.prototype.slice.call(r))}function Me(e){var r=e.size,n=r===void 0?25:r,a=e.SVGstrokeColor,o=a===void 0?"currentColor":a,h=e.SVGstorkeWidth,N=h===void 0?0:h,g=e.SVGclassName,i=g===void 0?"star-svg":g,y=e.SVGstyle;return j.jsx("svg",c({className:i,style:y,stroke:o,fill:"currentColor",strokeWidth:N,viewBox:"0 0 24 24",width:n,height:n,xmlns:"http://www.w3.org/2000/svg"},{children:j.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})}))}function tt(e,r){switch(r.type){case"PointerMove":return c(c({},e),{hoverValue:r.payload,hoverIndex:r.index});case"PointerLeave":return c(c({},e),{ratingValue:e.ratingValue,hoverIndex:0,hoverValue:null});case"MouseClick":return c(c({},e),{valueIndex:e.hoverIndex,ratingValue:r.payload});default:return e}}var rt="style-module_starRatingWrap__q-lJC",ot="style-module_simpleStarRating__nWUxf",st="style-module_fillIcons__6---A",nt="style-module_emptyIcons__Bg-FZ",at="style-module_tooltip__tKc3i";function Re(){return typeof window<"u"&&window.matchMedia("(pointer: coarse)").matches||"ontouchstart"in window||typeof navigator<"u"&&navigator.maxTouchPoints>0}(function(e,r){r===void 0&&(r={});var n=r.insertAt;if(e&&typeof document<"u"){var a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",n==="top"&&a.firstChild?a.insertBefore(o,a.firstChild):a.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}})(".style-module_starRatingWrap__q-lJC{display:inline-block;touch-action:none}.style-module_simpleStarRating__nWUxf{display:inline-block;overflow:hidden;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap}.style-module_fillIcons__6---A{display:inline-block;overflow:hidden;position:absolute;top:0;white-space:nowrap}.style-module_emptyIcons__Bg-FZ{display:inline-block}.style-module_tooltip__tKc3i{background-color:#333;border-radius:5px;color:#fff;display:inline-block;padding:5px 15px;vertical-align:middle}"),Ae=Pe.Rating=function(e){var r,n,a=e.onClick,o=e.onPointerMove,h=e.onPointerEnter,N=e.onPointerLeave,g=e.initialValue,i=g===void 0?0:g,y=e.iconsCount,u=y===void 0?5:y,R=e.size,O=R===void 0?40:R,S=e.readonly,_=S!==void 0&&S,C=e.rtl,E=C!==void 0&&C,k=e.customIcons,P=k===void 0?[]:k,M=e.allowFraction,w=M!==void 0&&M,X=e.style,L=e.className,Z=L===void 0?"react-simple-star-rating":L,W=e.transition,Q=W!==void 0&&W,A=e.allowHover,$=A===void 0||A,B=e.disableFillHover,z=B!==void 0&&B,D=e.fillIcon,ee=D===void 0?null:D,J=e.fillColor,te=J===void 0?"#ffbc0b":J,s=e.fillColorArray,m=s===void 0?[]:s,x=e.fillStyle,oe=e.fillClassName,Ge=oe===void 0?"filled-icons":oe,se=e.emptyIcon,Te=se===void 0?null:se,ne=e.emptyColor,Fe=ne===void 0?"#cccccc":ne,Le=e.emptyStyle,ae=e.emptyClassName,We=ae===void 0?"empty-icons":ae,ie=e.allowTitleTag,$e=ie===void 0||ie,le=e.showTooltip,Be=le!==void 0&&le,ce=e.tooltipDefaultText,ze=ce===void 0?"Your Rate":ce,de=e.tooltipArray,U=de===void 0?[]:de,De=e.tooltipStyle,ue=e.tooltipClassName,Je=ue===void 0?"react-simple-star-rating-tooltip":ue,me=e.SVGclassName,he=me===void 0?"star-svg":me,ve=e.titleSeparator,Ue=ve===void 0?"out of":ve,pe=e.SVGstyle,ge=e.SVGstorkeWidth,xe=ge===void 0?0:ge,fe=e.SVGstrokeColor,je=fe===void 0?"currentColor":fe,ye=p.useReducer(tt,{hoverIndex:0,valueIndex:0,ratingValue:i,hoverValue:null}),Y=ye[0],v=Y.ratingValue,d=Y.hoverValue,re=Y.hoverIndex,we=Y.valueIndex,q=ye[1];p.useEffect(function(){i&&q({type:"MouseClick",payload:0})},[i]);var V=p.useMemo(function(){return w?2*u:u},[w,u]),G=p.useMemo(function(){return i>V?0:w||Math.floor(i)===i?Math.round(i/u*100):2*Math.ceil(i)*10},[w,i,u,V]),_e=p.useMemo(function(){return(w?2*i-1:i-1)||0},[w,i]),T=p.useCallback(function(l){return u%2!=0?l/2/10:l*u/100},[u]),be=function(l){for(var I=l.clientX,f=l.currentTarget.children[0].getBoundingClientRect(),qe=f.left,He=f.right,Ke=f.width,Ee=E?He-I:I-qe,H=V,ke=Math.round(Ke/V),F=0;F<=V;F+=1)if(Ee<=ke*F){H=F===0&&Ee<ke?0:F;break}var Ve=H-1;H>0&&(q({type:"PointerMove",payload:100*H/V,index:Ve}),o&&d&&o(T(d),Ve,l))},Ne=function(l){d&&(q({type:"MouseClick",payload:d}),a&&a(T(d),re,l))},Ye=p.useMemo(function(){if($){if(z){var l=v&&v||G;return d&&d>l?d:l}return d&&d||v&&v||G}return v&&v||G},[$,z,d,v,G]);p.useEffect(function(){U.length>V&&console.error("tooltipArray Array length is bigger then Icons Count length.")},[U.length,V]);var Se=p.useCallback(function(l){return d&&l[re]||v&&l[we]||i&&l[_e]},[d,re,v,we,i,_e]),Ce=p.useMemo(function(){return d&&T(d)||v&&T(v)||i&&T(G)},[d,T,v,i,G]);return j.jsxs("span",c({className:rt,style:{direction:"".concat(E?"rtl":"ltr")}},{children:[j.jsxs("span",c({className:"".concat(ot," ").concat(Z),style:c({cursor:_?"":"pointer"},X),onPointerMove:_?void 0:be,onPointerEnter:_?void 0:function(l){h&&h(l),Re()&&be(l)},onPointerLeave:_?void 0:function(l){Re()&&Ne(),q({type:"PointerLeave"}),N&&N(l)},onClick:_?void 0:Ne,"aria-hidden":"true"},{children:[j.jsx("span",c({className:"".concat(nt," ").concat(We),style:c({color:Fe},Le)},{children:Ie([],Array(u),!0).map(function(l,I){var f;return j.jsx(p.Fragment,{children:((f=P[I])===null||f===void 0?void 0:f.icon)||Te||j.jsx(Me,{SVGclassName:he,SVGstyle:pe,SVGstorkeWidth:xe,SVGstrokeColor:je,size:O})},I)})})),j.jsx("span",c({className:"".concat(st," ").concat(Ge),style:c((r={},r[E?"right":"left"]=0,r.color=Se(m)||te,r.transition=Q?"width .2s ease, color .2s ease":"",r.width="".concat(Ye,"%"),r),x),title:$e?"".concat(Ce," ").concat(Ue," ").concat(u):void 0},{children:Ie([],Array(u),!0).map(function(l,I){var f;return j.jsx(p.Fragment,{children:((f=P[I])===null||f===void 0?void 0:f.icon)||ee||j.jsx(Me,{SVGclassName:he,SVGstyle:pe,SVGstorkeWidth:xe,SVGstrokeColor:je,size:O})},I)})}))]})),Be&&j.jsx("span",c({className:"".concat(at," ").concat(Je),style:c((n={},n[E?"marginRight":"marginLeft"]=20,n),De)},{children:(U.length>0?Se(U):Ce)||ze}))]}))};function it({id:e,reviewModal:r,dispatch:n,dinWords:a}){const o=a.review,[h,N]=b.useState({value:"",isError:""}),[g,i]=b.useState({value:"",isError:""}),[y,u]=b.useState({value:"",isError:""}),[R,O]=b.useState({value:0,isError:""}),[S,_]=b.useState(""),[C,E]=b.useState(""),[k,P]=b.useState(""),[M,w]=b.useState(""),X=s=>{O({value:s,isError:""})},L=s=>{N(m=>({...m,value:s.target.value}))},Z=s=>{i(m=>({...m,value:s.target.value}))},W=s=>{u(m=>({...m,value:s.target.value}))},Q=s=>{const m=s.target.files[0],x=new FileReader;x.onloadend=()=>{S?C?k?w(x.result.toString()):P(x.result.toString()):E(x.result.toString()):_(x.result.toString())},x.readAsDataURL(m)};let A=new Date,$=String(A.getDate()).padStart(2,"0"),B=String(A.getMonth()+1).padStart(2,"0"),z=A.getFullYear(),D=$+"."+B+"."+z;const ee=()=>{R.value==""?O(s=>({...s,isError:!0})):h.value==""?N(s=>({...s,isError:!0})):g.value==""?i(s=>({...s,isError:!0})):y.value==""?u(s=>({...s,isError:!0})):(fetch("http://localhost:3000/reviews",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({product_id:e,stars:R.value,user:h.value,email:g.value,content:y.value,images:[S,C,k,M],data:D})}).then(s=>s.json()).then(s=>s).catch(s=>{console.error("Error:",s)}),O({value:0,isError:""}),_(""),E(""),P(""),w(""),N({value:"",isError:""}),i({value:"",isError:""}),u({value:"",isError:""}),n({type:"REVIEW_MODAL",payload:!r}))};function J(){var s=window.pageYOffset||document.documentElement.scrollTop,m=window.pageXOffset||document.documentElement.scrollLeft;window.onscroll=function(){window.scrollTo(m,s)}}function te(){window.onscroll=null}return r?J():te(),t.jsxs("div",{className:"add_review container",children:[t.jsxs("div",{className:"rev_stars",children:[t.jsxs("p",{children:[o.star," "]}),t.jsx(Ae,{onClick:X}),t.jsx("h5",{className:R.isError?"":"dnone",children:o.chooseStar})]}),t.jsxs("form",{children:[t.jsx("input",{type:"text",placeholder:h.isError?`${o.importantPlace}`:`${o.namePlace}`,onChange:L,value:h.value,className:h.isError?"red":""}),t.jsx("input",{type:"email",placeholder:g.isError?`${o.importantPlace}`:`${o.mailPlace}`,value:g.value,onChange:Z,className:g.isError?"red":""}),t.jsx("textarea",{cols:"30",rows:"10",placeholder:y.isError?`${o.importantPlace}`:`${o.reviewPlace}`,value:y.value,onChange:W,className:y.isError?"red":""}),t.jsxs("div",{className:"add_images",children:[t.jsxs("div",{className:"add_img_hero",children:[t.jsxs("div",{className:"file_input",children:[t.jsx("input",{type:"file",onChange:s=>Q(s)}),t.jsx("img",{src:"./xari-bulbul/icons/camera.svg",alt:""})]}),t.jsx("div",{className:S?"img_box":"img_box orderminus",children:S?t.jsxs("div",{className:"img_box_hero",children:[t.jsx("img",{src:S,alt:""}),t.jsx("div",{className:"box_svg",children:t.jsx(K,{onClick:()=>_("")})})]}):t.jsx("p",{})}),t.jsx("div",{className:C?"img_box":"img_box orderminus",children:C?t.jsxs("div",{className:"img_box_hero",children:[t.jsx("img",{src:C,alt:""}),t.jsx("div",{className:"box_svg",children:t.jsx(K,{onClick:()=>E("")})})]}):t.jsx("p",{})}),t.jsx("div",{className:k?"img_box":"img_box orderminus",children:k?t.jsxs("div",{className:"img_box_hero",children:[t.jsx("img",{src:k,alt:""}),t.jsx("div",{className:"box_svg",children:t.jsx(K,{onClick:()=>P("")})})]}):t.jsx("p",{})}),t.jsx("div",{className:M?"img_box":"img_box orderminus",children:M?t.jsxs("div",{className:"img_box_hero",children:[t.jsx("img",{src:M,alt:""}),t.jsx("div",{className:"box_svg",children:t.jsx(K,{onClick:()=>w("")})})]}):t.jsx("p",{})})]}),t.jsx("p",{children:o.notMore})]}),t.jsx("button",{type:"button",onClick:ee,children:o.submitBtn})]})]})}const lt=e=>e,ht=Oe(lt)(it);function vt({data:e}){let r=e.images.filter(n=>n!="");return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"review_item container",children:[t.jsx("div",{className:"user_img",children:t.jsx("img",{src:"./xari-bulbul/data/details/user.png",alt:""})}),t.jsxs("div",{className:"review_right",children:[t.jsxs("div",{className:"review_top",children:[t.jsx("h2",{className:"user_name",children:e.user}),t.jsx("h3",{className:"review_date",children:e.date}),t.jsx("div",{className:"stars",children:t.jsx(et,{rating:e.stars})})]}),t.jsxs("div",{className:"review_bottom",children:[t.jsx("p",{children:e.content}),t.jsx("div",{className:"review_images",children:r&&r.map(n=>t.jsx("img",{src:n,alt:""},n))})]})]})]})})}function ct({dispatch:e,reviewModal:r,words:n}){const a=()=>{e({type:"REVIEW_MODAL",payload:!r})};return t.jsx("div",{className:"review_modal_bg",onClick:a,children:t.jsx(Xe,{children:t.jsxs(Ze.div,{initial:{scale:.7,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.7,opacity:0},className:"review_modal",onClick:o=>o.stopPropagation(),children:[t.jsx("img",{src:"./xari-bulbul/data/homeImages/left_top.png",alt:""}),t.jsx("h2",{children:n.thank}),t.jsx(Qe,{onClick:a})]})})})}const dt=e=>e,pt=Oe(dt)(ct);export{ht as A,pt as R,vt as a};
