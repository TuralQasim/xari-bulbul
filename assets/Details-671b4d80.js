import{j as u,I as wi,a as Pi,L as W,c as ei,r as T,t as E,G as $i,b as qi,u as Ui}from"./index-79e6459d.js";import{P as Gi}from"./Product-910ab705.js";import{M as xi}from"./Map-df783fa1.js";import{A as Ji,R as Ii,a as ie}from"./ReviewModal-d4311eee.js";import{S as ee}from"./StarRating-352e95ec.js";import{L as re}from"./Lider-9446b650.js";import{S as ne}from"./ScrollTop-24bd282c.js";const M=({title:i,imgSrc:n,open:e,details:r,onChange:a,words:o})=>{const t=()=>{e==i?a(""):a(i)};return u.jsxs("div",{className:"detail_accardion",children:[u.jsxs("button",{onClick:t,children:[u.jsx("img",{src:n,alt:""}),u.jsx("h3",{children:i}),e==i?u.jsx(wi,{}):u.jsx(Pi,{})]}),u.jsxs("div",{className:e==i?"deliveryItem":"dnone",children:[u.jsx("p",{children:r}),i!="Состав"?u.jsx(W,{children:o.other}):""]})]})},ae=({data:i,words:n,dinWords:e,language:r})=>{const[a,o]=T.useState(""),t=e[r].accList;return console.log(t),u.jsxs(u.Fragment,{children:[u.jsx(M,{words:n,title:t.consist,open:a,details:i.consist,onChange:o,imgSrc:"./icons/consist.svg"}),u.jsx(M,{title:t.delivery,words:n,open:a,details:n.details1,onChange:o,imgSrc:"./icons/consist.svg"}),u.jsx(M,{title:t.pay,words:n,open:a,details:n.details2,onChange:o,imgSrc:"./icons/consist.svg"}),u.jsx(M,{words:n,title:t.refund,open:a,details:n.details3,onChange:o,imgSrc:"./icons/consist.svg"})]})},oe=i=>i,te=ei(oe)(ae);var Y=function(i,n){return Number(i.toFixed(n))},se=function(i,n){return typeof i=="number"?i:n},w=function(i,n,e){e&&typeof e=="function"&&e(i,n)},le=function(i){return-Math.cos(i*Math.PI)/2+.5},ue=function(i){return i},de=function(i){return i*i},ve=function(i){return i*(2-i)},fe=function(i){return i<.5?2*i*i:-1+(4-2*i)*i},me=function(i){return i*i*i},pe=function(i){return--i*i*i+1},ce=function(i){return i<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1},he=function(i){return i*i*i*i},ge=function(i){return 1- --i*i*i*i},Se=function(i){return i<.5?8*i*i*i*i:1-8*--i*i*i*i},be=function(i){return i*i*i*i*i},we=function(i){return 1+--i*i*i*i*i},Pe=function(i){return i<.5?16*i*i*i*i*i:1+16*--i*i*i*i*i},Ci={easeOut:le,linear:ue,easeInQuad:de,easeOutQuad:ve,easeInOutQuad:fe,easeInCubic:me,easeOutCubic:pe,easeInOutCubic:ce,easeInQuart:he,easeOutQuart:ge,easeInOutQuart:Se,easeInQuint:be,easeOutQuint:we,easeInOutQuint:Pe},yi=function(i){typeof i=="number"&&cancelAnimationFrame(i)},j=function(i){i.mounted&&(yi(i.animation),i.animate=!1,i.animation=null,i.velocity=null)};function Ti(i,n,e,r){if(i.mounted){var a=new Date().getTime(),o=1;j(i),i.animation=function(){if(!i.mounted)return yi(i.animation);var t=new Date().getTime()-a,s=t/e,l=Ci[n],v=l(s);t>=e?(r(o),i.animation=null):i.animation&&(r(v),requestAnimationFrame(i.animation))},requestAnimationFrame(i.animation)}}function Ce(i){var n=i.scale,e=i.positionX,r=i.positionY;return!(Number.isNaN(n)||Number.isNaN(e)||Number.isNaN(r))}function z(i,n,e,r){var a=Ce(n);if(!(!i.mounted||!a)){var o=i.setTransformState,t=i.transformState,s=t.scale,l=t.positionX,v=t.positionY,d=n.scale-s,f=n.positionX-l,m=n.positionY-v;e===0?o(n.scale,n.positionX,n.positionY):Ti(i,r,e,function(p){var h=s+d*p,g=l+f*p,c=v+m*p;o(h,g,c)})}}function ye(i,n,e){var r=i.offsetWidth,a=i.offsetHeight,o=n.offsetWidth,t=n.offsetHeight,s=o*e,l=t*e,v=r-s,d=a-l;return{wrapperWidth:r,wrapperHeight:a,newContentWidth:s,newDiffWidth:v,newContentHeight:l,newDiffHeight:d}}var Te=function(i,n,e,r,a,o,t){var s=i>n?e*(t?1:.5):0,l=r>a?o*(t?1:.5):0,v=i-n-s,d=s,f=r-a-l,m=l;return{minPositionX:v,maxPositionX:d,minPositionY:f,maxPositionY:m}},ri=function(i,n){var e=i.wrapperComponent,r=i.contentComponent,a=i.setup.centerZoomedOut;if(!e||!r)throw new Error("Components are not mounted");var o=ye(e,r,n),t=o.wrapperWidth,s=o.wrapperHeight,l=o.newContentWidth,v=o.newDiffWidth,d=o.newContentHeight,f=o.newDiffHeight,m=Te(t,l,v,s,d,f,!!a);return m},J=function(i,n,e,r){return r?i<n?Y(n,2):i>e?Y(e,2):Y(i,2):Y(i,2)},k=function(i,n){var e=ri(i,n);return i.bounds=e,e};function K(i,n,e,r,a,o,t){var s=e.minPositionX,l=e.minPositionY,v=e.maxPositionX,d=e.maxPositionY,f=0,m=0;t&&(f=a,m=o);var p=J(i,s-f,v+f,r),h=J(n,l-m,d+m,r);return{x:p,y:h}}function V(i,n,e,r,a,o){var t=i.transformState,s=t.scale,l=t.positionX,v=t.positionY,d=r-s;if(typeof n!="number"||typeof e!="number")return console.error("Mouse X and Y position were not provided!"),{x:l,y:v};var f=l-n*d,m=v-e*d,p=K(f,m,a,o,0,0,null);return p}function Z(i,n,e,r,a){var o=a?r:0,t=n-o;return!Number.isNaN(e)&&i>=e?e:!Number.isNaN(n)&&i<=t?t:i}var fi=function(i,n){var e=i.setup.panning.excluded,r=i.isInitialized,a=i.wrapperComponent,o=n.target,t=a==null?void 0:a.contains(o),s=r&&o&&t;if(!s)return!1;var l=F(o,e);return!l},mi=function(i){var n=i.isInitialized,e=i.isPanning,r=i.setup,a=r.panning.disabled,o=n&&e&&!a;return!!o},Ye=function(i,n){var e=i.transformState,r=e.positionX,a=e.positionY;i.isPanning=!0;var o=n.clientX,t=n.clientY;i.startCoords={x:o-r,y:t-a}},Xe=function(i,n){var e=n.touches,r=i.transformState,a=r.positionX,o=r.positionY;i.isPanning=!0;var t=e.length===1;if(t){var s=e[0].clientX,l=e[0].clientY;i.startCoords={x:s-a,y:l-o}}};function _e(i){var n=i.transformState,e=n.positionX,r=n.positionY,a=n.scale,o=i.setup,t=o.disabled,s=o.limitToBounds,l=o.centerZoomedOut,v=i.wrapperComponent;if(!(t||!v||!i.bounds)){var d=i.bounds,f=d.maxPositionX,m=d.minPositionX,p=d.maxPositionY,h=d.minPositionY,g=e>f||e<m,c=r>p||r<h,y=e>f?v.offsetWidth:i.setup.minPositionX||0,C=r>p?v.offsetHeight:i.setup.minPositionY||0,P=V(i,y,C,a,i.bounds,s||l),X=P.x,_=P.y;return{scale:a,positionX:g?X:e,positionY:c?_:r}}}function je(i,n,e,r,a){var o=i.setup.limitToBounds,t=i.wrapperComponent,s=i.bounds,l=i.transformState,v=l.scale,d=l.positionX,f=l.positionY;if(!(t===null||s===null||n===d&&e===f)){var m=K(n,e,s,o,r,a,t),p=m.x,h=m.y;i.setTransformState(v,p,h)}}var Ae=function(i,n,e){var r=i.startCoords,a=i.transformState,o=i.setup.panning,t=o.lockAxisX,s=o.lockAxisY,l=a.positionX,v=a.positionY;if(!r)return{x:l,y:v};var d=n-r.x,f=e-r.y,m=t?l:d,p=s?v:f;return{x:m,y:p}},H=function(i,n){var e=i.setup,r=i.transformState,a=r.scale,o=e.minScale,t=e.disablePadding;return n>0&&a>=o&&!t?n:0},Ne=function(i){var n=i.mounted,e=i.setup,r=e.disabled,a=e.velocityAnimation,o=i.transformState.scale,t=a.disabled,s=!t||o>1||!r||n;return!!s},Ee=function(i){var n=i.mounted,e=i.velocity,r=i.bounds,a=i.setup,o=a.disabled,t=a.velocityAnimation,s=i.transformState.scale,l=t.disabled,v=!l||s>1||!o||n;return!(!v||!e||!r)};function ze(i,n){var e=i.setup.velocityAnimation,r=e.equalToMove,a=e.animationTime,o=e.sensitivity;return r?a*n*o:a}function pi(i,n,e,r,a,o,t,s,l,v){if(a){if(n>t&&e>t){var d=t+(i-t)*v;return d>l?l:d<t?t:d}if(n<o&&e<o){var d=o+(i-o)*v;return d<s?s:d>o?o:d}}return r?n:J(i,o,t,a)}function De(i,n){var e=1;return n?Math.min(e,i.offsetWidth/window.innerWidth):e}function We(i,n){var e=Ne(i);if(e){var r=i.lastMousePosition,a=i.velocityTime,o=i.setup,t=i.wrapperComponent,s=o.velocityAnimation.equalToMove,l=Date.now();if(r&&a&&t){var v=De(t,s),d=n.x-r.x,f=n.y-r.y,m=d/v,p=f/v,h=l-a,g=d*d+f*f,c=Math.sqrt(g)/h;i.velocity={velocityX:m,velocityY:p,total:c}}i.lastMousePosition=n,i.velocityTime=l}}function Oe(i){var n=i.velocity,e=i.bounds,r=i.setup,a=i.wrapperComponent,o=Ee(i);if(!(!o||!n||!e||!a)){var t=n.velocityX,s=n.velocityY,l=n.total,v=e.maxPositionX,d=e.minPositionX,f=e.maxPositionY,m=e.minPositionY,p=r.limitToBounds,h=r.alignmentAnimation,g=r.zoomAnimation,c=r.panning,y=c.lockAxisY,C=c.lockAxisX,P=g.animationType,X=h.sizeX,_=h.sizeY,A=h.velocityAlignmentTime,b=A,D=ze(i,l),O=Math.max(D,b),R=H(i,X),Q=H(i,_),oi=R*a.offsetWidth/100,ti=Q*a.offsetHeight/100,Oi=v+oi,ki=d-oi,Bi=f+ti,Zi=m-ti,si=i.transformState,Mi=new Date().getTime();Ti(i,P,O,function(Li){var $=i.transformState,Hi=$.scale,q=$.positionX,U=$.positionY,Ki=new Date().getTime()-Mi,Vi=Ki/b,Fi=Ci[h.animationType],li=1-Fi(Math.min(1,Vi)),ui=1-Li,di=q+t*ui,vi=U+s*ui,Ri=pi(di,si.positionX,q,C,p,d,v,ki,Oi,li),Qi=pi(vi,si.positionY,U,y,p,m,f,Zi,Bi,li);(q!==di||U!==vi)&&i.setTransformState(Hi,Ri,Qi)})}}function ci(i,n){var e=i.transformState.scale;j(i),k(i,e),window.TouchEvent!==void 0&&n instanceof TouchEvent?Xe(i,n):Ye(i,n)}function Yi(i){var n=i.transformState.scale,e=i.setup,r=e.minScale,a=e.alignmentAnimation,o=a.disabled,t=a.sizeX,s=a.sizeY,l=a.animationTime,v=a.animationType,d=o||n<r||!t&&!s;if(!d){var f=_e(i);f&&z(i,f,l,v)}}function hi(i,n,e){var r=i.startCoords,a=i.setup,o=a.alignmentAnimation,t=o.sizeX,s=o.sizeY;if(r){var l=Ae(i,n,e),v=l.x,d=l.y,f=H(i,t),m=H(i,s);We(i,{x:v,y:d}),je(i,v,d,f,m)}}function ke(i){if(i.isPanning){var n=i.setup.panning.velocityDisabled,e=i.velocity,r=i.wrapperComponent,a=i.contentComponent;i.isPanning=!1,i.animate=!1,i.animation=null;var o=r==null?void 0:r.getBoundingClientRect(),t=a==null?void 0:a.getBoundingClientRect(),s=(o==null?void 0:o.width)||0,l=(o==null?void 0:o.height)||0,v=(t==null?void 0:t.width)||0,d=(t==null?void 0:t.height)||0,f=s<v||l<d,m=!n&&e&&(e==null?void 0:e.total)>.1&&f;m?Oe(i):Yi(i)}}function ni(i,n,e,r){var a=i.setup,o=a.minScale,t=a.maxScale,s=a.limitToBounds,l=Z(Y(n,2),o,t,0,!1),v=k(i,l),d=V(i,e,r,l,v,s),f=d.x,m=d.y;return{scale:l,positionX:f,positionY:m}}function Xi(i,n,e){var r=i.transformState.scale,a=i.wrapperComponent,o=i.setup,t=o.minScale,s=o.limitToBounds,l=o.zoomAnimation,v=l.disabled,d=l.animationTime,f=l.animationType,m=v||r>=t;if((r>=1||s)&&Yi(i),!(m||!a||!i.mounted)){var p=n||a.offsetWidth/2,h=e||a.offsetHeight/2,g=ni(i,t,p,h);g&&z(i,g,d,f)}}var N=function(){return N=Object.assign||function(n){for(var e,r=1,a=arguments.length;r<a;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},N.apply(this,arguments)};function gi(i,n,e){if(e||arguments.length===2)for(var r=0,a=n.length,o;r<a;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return i.concat(o||Array.prototype.slice.call(n))}var L={previousScale:1,scale:1,positionX:0,positionY:0},B={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,wheel:{step:.2,disabled:!1,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},_i=function(i){var n,e,r,a;return{previousScale:(n=i.initialScale)!==null&&n!==void 0?n:L.scale,scale:(e=i.initialScale)!==null&&e!==void 0?e:L.scale,positionX:(r=i.initialPositionX)!==null&&r!==void 0?r:L.positionX,positionY:(a=i.initialPositionY)!==null&&a!==void 0?a:L.positionY}},Si=function(i){var n=N({},B);return Object.keys(i).forEach(function(e){var r=typeof i[e]<"u",a=typeof B[e]<"u";if(a&&r){var o=Object.prototype.toString.call(B[e]),t=o==="[object Object]",s=o==="[object Array]";t?n[e]=N(N({},B[e]),i[e]):s?n[e]=gi(gi([],B[e],!0),i[e],!0):n[e]=i[e]}}),n},ji=function(i,n,e){var r=i.transformState.scale,a=i.wrapperComponent,o=i.setup,t=o.maxScale,s=o.minScale,l=o.zoomAnimation,v=l.size;if(!a)throw new Error("Wrapper is not mounted");var d=r+n*e,f=Z(Y(d,3),s,t,v,!1);return f};function Ai(i,n,e,r,a){var o=i.wrapperComponent,t=i.transformState,s=t.scale,l=t.positionX,v=t.positionY;if(!o)return console.error("No WrapperComponent found");var d=o.offsetWidth,f=o.offsetHeight,m=(d/2-l)/s,p=(f/2-v)/s,h=ji(i,n,e),g=ni(i,h,m,p);if(!g)return console.error("Error during zoom event. New transformation state was not calculated.");z(i,g,r,a)}function Ni(i,n,e,r){var a=i.setup,o=i.wrapperComponent,t=a.limitToBounds,s=_i(i.props),l=i.transformState,v=l.scale,d=l.positionX,f=l.positionY;if(o){var m=ri(i,s.scale),p=K(s.positionX,s.positionY,m,t,0,0,o),h={scale:s.scale,positionX:p.x,positionY:p.y};v===s.scale&&d===s.positionX&&f===s.positionY||(r==null||r(),z(i,h,n,e))}}function Be(i,n,e,r){var a=i.getBoundingClientRect(),o=n.getBoundingClientRect(),t=e.getBoundingClientRect(),s=o.x*r.scale,l=o.y*r.scale;return{x:(a.x-t.x+s)/r.scale,y:(a.y-t.y+l)/r.scale}}function Ze(i,n,e){var r=i.wrapperComponent,a=i.contentComponent,o=i.transformState,t=i.setup,s=t.limitToBounds,l=t.minScale,v=t.maxScale;if(!r||!a)return o;var d=r.getBoundingClientRect(),f=n.getBoundingClientRect(),m=Be(n,r,a,o),p=m.x,h=m.y,g=f.width/o.scale,c=f.height/o.scale,y=r.offsetWidth/g,C=r.offsetHeight/c,P=Z(e||Math.min(y,C),l,v,0,!1),X=(d.width-g*P)/2,_=(d.height-c*P)/2,A=(d.left-p)*P+X,b=(d.top-h)*P+_,D=ri(i,P),O=K(A,b,D,s,0,0,r),R=O.x,Q=O.y;return{positionX:R,positionY:Q,scale:P}}var Me=function(i){return function(n,e,r){n===void 0&&(n=.5),e===void 0&&(e=300),r===void 0&&(r="easeOut"),Ai(i,1,n,e,r)}},Le=function(i){return function(n,e,r){n===void 0&&(n=.5),e===void 0&&(e=300),r===void 0&&(r="easeOut"),Ai(i,-1,n,e,r)}},He=function(i){return function(n,e,r,a,o){a===void 0&&(a=300),o===void 0&&(o="easeOut");var t=i.transformState,s=t.positionX,l=t.positionY,v=t.scale,d=i.wrapperComponent,f=i.contentComponent,m=i.setup.disabled;if(!(m||!d||!f)){var p={positionX:Number.isNaN(n)?s:n,positionY:Number.isNaN(e)?l:e,scale:Number.isNaN(r)?v:r};z(i,p,a,o)}}},Ke=function(i){return function(n,e){n===void 0&&(n=200),e===void 0&&(e="easeOut"),Ni(i,n,e)}},Ve=function(i){return function(n,e,r){e===void 0&&(e=200),r===void 0&&(r="easeOut");var a=i.transformState,o=i.wrapperComponent,t=i.contentComponent;if(o&&t){var s=Ei(n||a.scale,o,t);z(i,s,e,r)}}},Fe=function(i){return function(n,e,r,a){r===void 0&&(r=600),a===void 0&&(a="easeOut"),j(i);var o=i.wrapperComponent,t=typeof n=="string"?document.getElementById(n):n;if(o&&t&&o.contains(t)){var s=Ze(i,t,e);z(i,s,r,a)}}},I=function(i){return{instance:i,zoomIn:Me(i),zoomOut:Le(i),setTransform:He(i),resetTransform:Ke(i),centerView:Ve(i),zoomToElement:Fe(i)}},Re=function(i){return{instance:i,state:i.transformState}},S=function(i){var n={};return Object.assign(n,Re(i)),Object.assign(n,I(i)),n},G=!1;function x(){try{var i={get passive(){return G=!0,!1}};return i}catch{return G=!1,G}}var F=function(i,n){var e=i.tagName.toUpperCase(),r=n.find(function(o){return o.toUpperCase()===e});if(r)return!0;var a=n.find(function(o){return i.classList.contains(o)});return!!a},ii=function(i){i&&clearTimeout(i)},Qe=function(i,n,e){return"translate(".concat(i,"px, ").concat(n,"px) scale(").concat(e,")")},Ei=function(i,n,e){var r=e.offsetWidth*i,a=e.offsetHeight*i,o=(n.offsetWidth-r)/2,t=(n.offsetHeight-a)/2;return{scale:i,positionX:o,positionY:t}};function $e(i){return function(n){i.forEach(function(e){typeof e=="function"?e(n):e!=null&&(e.current=n)})}}var qe=function(i,n){var e=i.setup.wheel,r=e.disabled,a=e.wheelDisabled,o=e.touchPadDisabled,t=e.excluded,s=i.isInitialized,l=i.isPanning,v=n.target,d=s&&!l&&!r&&v;if(!d||a&&!n.ctrlKey||o&&n.ctrlKey)return!1;var f=F(v,t);return!f},Ue=function(i){return i?i.deltaY<0?1:-1:0};function Ge(i,n){var e=Ue(i),r=se(n,e);return r}function zi(i,n,e){var r=n.getBoundingClientRect(),a=0,o=0;if("clientX"in i)a=(i.clientX-r.left)/e,o=(i.clientY-r.top)/e;else{var t=i.touches[0];a=(t.clientX-r.left)/e,o=(t.clientY-r.top)/e}return(Number.isNaN(a)||Number.isNaN(o))&&console.error("No mouse or touch offset found"),{x:a,y:o}}var xe=function(i,n,e,r,a){var o=i.transformState.scale,t=i.wrapperComponent,s=i.setup,l=s.maxScale,v=s.minScale,d=s.zoomAnimation,f=s.disablePadding,m=d.size,p=d.disabled;if(!t)throw new Error("Wrapper is not mounted");var h=o+n*e;if(a)return h;var g=r?!1:!p,c=Z(Y(h,3),v,l,m,g&&!f);return c},Je=function(i,n){var e=i.previousWheelEvent,r=i.transformState.scale,a=i.setup,o=a.maxScale,t=a.minScale;return e?r<o||r>t||Math.sign(e.deltaY)!==Math.sign(n.deltaY)||e.deltaY>0&&e.deltaY<n.deltaY||e.deltaY<0&&e.deltaY>n.deltaY||Math.sign(e.deltaY)!==Math.sign(n.deltaY):!1},Ie=function(i,n){var e=i.setup.pinch,r=e.disabled,a=e.excluded,o=i.isInitialized,t=n.target,s=o&&!r&&t;if(!s)return!1;var l=F(t,a);return!l},ir=function(i){var n=i.setup.pinch.disabled,e=i.isInitialized,r=i.pinchStartDistance,a=e&&!n&&r;return!!a},er=function(i,n,e){var r=e.getBoundingClientRect(),a=i.touches,o=Y(a[0].clientX-r.left,5),t=Y(a[0].clientY-r.top,5),s=Y(a[1].clientX-r.left,5),l=Y(a[1].clientY-r.top,5);return{x:(o+s)/2/n,y:(t+l)/2/n}},Di=function(i){return Math.sqrt(Math.pow(i.touches[0].pageX-i.touches[1].pageX,2)+Math.pow(i.touches[0].pageY-i.touches[1].pageY,2))},rr=function(i,n){var e=i.pinchStartScale,r=i.pinchStartDistance,a=i.setup,o=a.maxScale,t=a.minScale,s=a.zoomAnimation,l=a.disablePadding,v=s.size,d=s.disabled;if(!e||r===null||!n)throw new Error("Pinch touches distance was not provided");if(n<0)return i.transformState.scale;var f=n/r,m=f*e;return Z(Y(m,2),t,o,v,!d&&!l)},nr=160,ar=100,or=function(i,n){var e=i.props,r=e.onWheelStart,a=e.onZoomStart;i.wheelStopEventTimer||(j(i),w(S(i),n,r),w(S(i),n,a))},tr=function(i,n){var e=i.props,r=e.onWheel,a=e.onZoom,o=i.contentComponent,t=i.setup,s=i.transformState,l=s.scale,v=t.limitToBounds,d=t.centerZoomedOut,f=t.zoomAnimation,m=t.wheel,p=t.disablePadding,h=f.size,g=f.disabled,c=m.step;if(!o)throw new Error("Component not mounted");n.preventDefault(),n.stopPropagation();var y=Ge(n,null),C=xe(i,y,c,!n.ctrlKey);if(l!==C){var P=k(i,C),X=zi(n,o,l),_=g||h===0||d||p,A=v&&_,b=V(i,X.x,X.y,C,P,A),D=b.x,O=b.y;i.previousWheelEvent=n,i.setTransformState(C,D,O),w(S(i),n,r),w(S(i),n,a)}},sr=function(i,n){var e=i.props,r=e.onWheelStop,a=e.onZoomStop;ii(i.wheelAnimationTimer),i.wheelAnimationTimer=setTimeout(function(){i.mounted&&(Xi(i,n.x,n.y),i.wheelAnimationTimer=null)},ar);var o=Je(i,n);o&&(ii(i.wheelStopEventTimer),i.wheelStopEventTimer=setTimeout(function(){i.mounted&&(i.wheelStopEventTimer=null,w(S(i),n,r),w(S(i),n,a))},nr))},lr=function(i,n){var e=Di(n);i.pinchStartDistance=e,i.lastDistance=e,i.pinchStartScale=i.transformState.scale,i.isPanning=!1,j(i)},ur=function(i,n){var e=i.contentComponent,r=i.pinchStartDistance,a=i.transformState.scale,o=i.setup,t=o.limitToBounds,s=o.centerZoomedOut,l=o.zoomAnimation,v=l.disabled,d=l.size;if(!(r===null||!e)){var f=er(n,a,e);if(!(!Number.isFinite(f.x)||!Number.isFinite(f.y))){var m=Di(n),p=rr(i,m);if(p!==a){var h=k(i,p),g=v||d===0||s,c=t&&g,y=V(i,f.x,f.y,p,h,c),C=y.x,P=y.y;i.pinchMidpoint=f,i.lastDistance=m,i.setTransformState(p,C,P)}}}},dr=function(i){var n=i.pinchMidpoint;i.velocity=null,i.lastDistance=null,i.pinchMidpoint=null,i.pinchStartScale=null,i.pinchStartDistance=null,Xi(i,n==null?void 0:n.x,n==null?void 0:n.y)},Wi=function(i,n){var e=i.props.onZoomStop,r=i.setup.doubleClick.animationTime;ii(i.doubleClickStopEventTimer),i.doubleClickStopEventTimer=setTimeout(function(){i.doubleClickStopEventTimer=null,w(S(i),n,e)},r)},vr=function(i,n){var e=i.props,r=e.onZoomStart,a=e.onZoom,o=i.setup.doubleClick,t=o.animationTime,s=o.animationType;w(S(i),n,r),Ni(i,t,s,function(){return w(S(i),n,a)}),Wi(i,n)};function fr(i,n){var e=i.setup,r=i.doubleClickStopEventTimer,a=i.transformState,o=i.contentComponent,t=a.scale,s=i.props,l=s.onZoomStart,v=s.onZoom,d=e.doubleClick,f=d.disabled,m=d.mode,p=d.step,h=d.animationTime,g=d.animationType;if(!f&&!r){if(m==="reset")return vr(i,n);if(!o)return console.error("No ContentComponent found");var c=m==="zoomOut"?-1:1,y=ji(i,c,p);if(t!==y){w(S(i),n,l);var C=zi(n,o,t),P=ni(i,y,C.x,C.y);if(!P)return console.error("Error during zoom event. New transformation state was not calculated.");w(S(i),n,v),z(i,P,h,g),Wi(i,n)}}}var mr=function(i,n){var e=i.isInitialized,r=i.setup,a=i.wrapperComponent,o=r.doubleClick,t=o.disabled,s=o.excluded,l=n.target,v=a==null?void 0:a.contains(l),d=e&&l&&v&&!t;if(!d)return!1;var f=F(l,s);return!f},pr=function(){function i(n){var e=this;this.mounted=!0,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){e.initializeWindowEvents()},this.unmount=function(){e.cleanupWindowEvents()},this.update=function(r){k(e,e.transformState.scale),e.setup=Si(r)},this.initializeWindowEvents=function(){var r,a=x(),o=(r=e.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,t=o==null?void 0:o.defaultView;t==null||t.addEventListener("mousedown",e.onPanningStart,a),t==null||t.addEventListener("mousemove",e.onPanning,a),t==null||t.addEventListener("mouseup",e.onPanningStop,a),o==null||o.addEventListener("mouseleave",e.clearPanning,a),t==null||t.addEventListener("keyup",e.setKeyUnPressed,a),t==null||t.addEventListener("keydown",e.setKeyPressed,a)},this.cleanupWindowEvents=function(){var r,a,o=x(),t=(r=e.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,s=t==null?void 0:t.defaultView;s==null||s.removeEventListener("mousedown",e.onPanningStart,o),s==null||s.removeEventListener("mousemove",e.onPanning,o),s==null||s.removeEventListener("mouseup",e.onPanningStop,o),t==null||t.removeEventListener("mouseleave",e.clearPanning,o),s==null||s.removeEventListener("keyup",e.setKeyUnPressed,o),s==null||s.removeEventListener("keydown",e.setKeyPressed,o),document.removeEventListener("mouseleave",e.clearPanning,o),j(e),(a=e.observer)===null||a===void 0||a.disconnect()},this.handleInitializeWrapperEvents=function(r){var a=x();r.addEventListener("wheel",e.onWheelZoom,a),r.addEventListener("dblclick",e.onDoubleClick,a),r.addEventListener("touchstart",e.onTouchPanningStart,a),r.addEventListener("touchmove",e.onTouchPanning,a),r.addEventListener("touchend",e.onTouchPanningStop,a)},this.handleInitialize=function(r){var a=e.setup.centerOnInit;e.applyTransformation(),e.onInitCallbacks.forEach(function(o){return o(S(e))}),a&&(e.setCenter(),e.observer=new ResizeObserver(function(){var o;e.onInitCallbacks.forEach(function(t){return t(S(e))}),e.setCenter(),(o=e.observer)===null||o===void 0||o.disconnect()}),e.observer.observe(r))},this.onWheelZoom=function(r){var a=e.setup.disabled;if(!a){var o=qe(e,r);if(o){var t=e.isPressingKeys(e.setup.wheel.activationKeys);t&&(or(e,r),tr(e,r),sr(e,r))}}},this.onPanningStart=function(r){var a=e.setup.disabled,o=e.props.onPanningStart;if(!a){var t=fi(e,r);if(t){var s=e.isPressingKeys(e.setup.panning.activationKeys);s&&(r.preventDefault(),r.stopPropagation(),j(e),ci(e,r),w(S(e),r,o))}}},this.onPanning=function(r){var a=e.setup.disabled,o=e.props.onPanning;if(!a){var t=mi(e);if(t){var s=e.isPressingKeys(e.setup.panning.activationKeys);s&&(r.preventDefault(),r.stopPropagation(),hi(e,r.clientX,r.clientY),w(S(e),r,o))}}},this.onPanningStop=function(r){var a=e.props.onPanningStop;e.isPanning&&(ke(e),w(S(e),r,a))},this.onPinchStart=function(r){var a=e.setup.disabled,o=e.props,t=o.onPinchingStart,s=o.onZoomStart;if(!a){var l=Ie(e,r);l&&(lr(e,r),j(e),w(S(e),r,t),w(S(e),r,s))}},this.onPinch=function(r){var a=e.setup.disabled,o=e.props,t=o.onPinching,s=o.onZoom;if(!a){var l=ir(e);l&&(r.preventDefault(),r.stopPropagation(),ur(e,r),w(S(e),r,t),w(S(e),r,s))}},this.onPinchStop=function(r){var a=e.props,o=a.onPinchingStop,t=a.onZoomStop;e.pinchStartScale&&(dr(e),w(S(e),r,o),w(S(e),r,t))},this.onTouchPanningStart=function(r){var a=e.setup.disabled,o=e.props.onPanningStart;if(!a){var t=fi(e,r);if(t){var s=e.lastTouch&&+new Date-e.lastTouch<200;if(s&&r.touches.length===1)e.onDoubleClick(r);else{e.lastTouch=+new Date,j(e);var l=r.touches,v=l.length===1,d=l.length===2;v&&(j(e),ci(e,r),w(S(e),r,o)),d&&e.onPinchStart(r)}}}},this.onTouchPanning=function(r){var a=e.setup.disabled,o=e.props.onPanning;if(e.isPanning&&r.touches.length===1){if(a)return;var t=mi(e);if(!t)return;r.preventDefault(),r.stopPropagation();var s=r.touches[0];hi(e,s.clientX,s.clientY),w(S(e),r,o)}else r.touches.length>1&&e.onPinch(r)},this.onTouchPanningStop=function(r){e.onPanningStop(r),e.onPinchStop(r)},this.onDoubleClick=function(r){var a=e.setup.disabled;if(!a){var o=mr(e,r);o&&fr(e,r)}},this.clearPanning=function(r){e.isPanning&&e.onPanningStop(r)},this.setKeyPressed=function(r){e.pressedKeys[r.key]=!0},this.setKeyUnPressed=function(r){e.pressedKeys[r.key]=!1},this.isPressingKeys=function(r){return r.length?!!r.find(function(a){return e.pressedKeys[a]}):!0},this.setTransformState=function(r,a,o){var t=e.props.onTransformed;if(!Number.isNaN(r)&&!Number.isNaN(a)&&!Number.isNaN(o)){r!==e.transformState.scale&&(e.transformState.previousScale=e.transformState.scale,e.transformState.scale=r),e.transformState.positionX=a,e.transformState.positionY=o,e.applyTransformation();var s=S(e);e.onChangeCallbacks.forEach(function(l){return l(s)}),w(s,{scale:r,positionX:a,positionY:o},t)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(e.wrapperComponent&&e.contentComponent){var r=Ei(e.transformState.scale,e.wrapperComponent,e.contentComponent);e.setTransformState(r.scale,r.positionX,r.positionY)}},this.handleTransformStyles=function(r,a,o){return e.props.customTransform?e.props.customTransform(r,a,o):Qe(r,a,o)},this.applyTransformation=function(){if(!(!e.mounted||!e.contentComponent)){var r=e.transformState,a=r.scale,o=r.positionX,t=r.positionY,s=e.handleTransformStyles(o,t,a);e.contentComponent.style.transform=s}},this.getContext=function(){return S(e)},this.onChange=function(r){return e.onChangeCallbacks.has(r)||e.onChangeCallbacks.add(r),function(){e.onChangeCallbacks.delete(r)}},this.onInit=function(r){return e.onInitCallbacks.has(r)||e.onInitCallbacks.add(r),function(){e.onInitCallbacks.delete(r)}},this.init=function(r,a){e.cleanupWindowEvents(),e.wrapperComponent=r,e.contentComponent=a,k(e,e.transformState.scale),e.handleInitializeWrapperEvents(r),e.handleInitialize(a),e.initializeWindowEvents(),e.isInitialized=!0;var o=S(e);w(o,void 0,e.props.onInit)},this.props=n,this.setup=Si(this.props),this.transformState=_i(this.props)}return i}(),ai=E.createContext(null),cr=function(i,n){return typeof i=="function"?i(n):i},hr=E.forwardRef(function(i,n){var e=T.useRef(new pr(i)).current,r=cr(i.children,I(e));return T.useImperativeHandle(n,function(){return I(e)},[e]),T.useEffect(function(){e.update(i)},[e,i]),E.createElement(ai.Provider,{value:e},r)});E.forwardRef(function(i,n){var e=T.useRef(null),r=T.useContext(ai);return T.useEffect(function(){return r.onChange(function(a){if(e.current){var o=0,t=0;e.current.style.transform=r.handleTransformStyles(o,t,1/a.instance.transformState.scale)}})},[r]),E.createElement("div",N({},i,{ref:$e([e,n])}))});function gr(i,n){n===void 0&&(n={});var e=n.insertAt;if(!(!i||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",e==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=i:a.appendChild(document.createTextNode(i))}}var Sr=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,bi={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};gr(Sr);var br=function(i){var n=i.children,e=i.wrapperClass,r=e===void 0?"":e,a=i.contentClass,o=a===void 0?"":a,t=i.wrapperStyle,s=i.contentStyle,l=i.wrapperProps,v=l===void 0?{}:l,d=i.contentProps,f=d===void 0?{}:d,m=T.useContext(ai).init,p=T.useRef(null),h=T.useRef(null);return T.useEffect(function(){var g=p.current,c=h.current;g!==null&&c!==null&&m&&m(g,c)},[]),E.createElement("div",N({},v,{ref:p,className:"react-transform-wrapper ".concat(bi.wrapper," ").concat(r),style:t}),E.createElement("div",N({},f,{ref:h,className:"react-transform-component ".concat(bi.content," ").concat(o),style:s}),n))};function wr({id:i,images:n}){const e=[...n.find(t=>t.id==i).src],[r,a]=T.useState(e[0]),o=t=>{a(t.target.name)};return u.jsxs("div",{className:"zoom_slider",children:[u.jsx(hr,{initialScale:1,initialPositionX:0,initialPositionY:0,children:({zoomIn:t,zoomOut:s,resetTransform:l,...v})=>u.jsxs(E.Fragment,{children:[u.jsxs("div",{className:"tools",children:[u.jsx("button",{onClick:()=>t(),children:u.jsx($i,{})}),u.jsx("button",{onClick:()=>s(),children:u.jsx(qi,{})}),u.jsx("button",{onClick:()=>l(),children:"RESET"})]}),u.jsx(br,{children:u.jsx("img",{src:r,alt:""})})]})}),u.jsx("div",{className:"slider_images",children:e.map(t=>u.jsx("img",{src:t,alt:"",name:t,onClick:o},t))})]})}const Pr=i=>i,Cr=ei(Pr)(wr);function yr({products:i,reviews:n,reviewModal:e,dispatch:r,basket:a,dinWords:o,images:t,language:s}){const l=o[s].details;let v=[...i.filter(b=>b.category_id==2).slice(5,6),...i.filter(b=>b.category_id==6).slice(1,4)];const{id:d}=Ui();let f=n.filter(b=>+b.product_id==d),m=f.map(b=>b.stars);const p=0,h=m.reduce((b,D)=>b+D,p);let g=Math.trunc(h/m.length);const c=i.find(b=>b.id==d),[y,C]=T.useState([...f.slice(-3)]),P=()=>{r({type:"INC_COUNT",payload:c.id})},X=()=>{c.count>1&&r({type:"DEC_COUNT",payload:c.id})};let _=a.includes(c==null?void 0:c.id);const A=()=>{a.includes(c.id)?r({type:"DELETE_BASKET",payload:c.id}):r({type:"ADD_BASKET",payload:c.id})};return u.jsxs(u.Fragment,{children:[u.jsx("img",{src:"./data/bg/bg_right.png",className:"bg_right",alt:""}),u.jsxs("div",{className:"details container",children:[u.jsxs("div",{className:"details_slider",children:[u.jsx(Cr,{id:d}),u.jsxs("div",{className:"description",children:[u.jsx("h3",{children:l.descrip}),u.jsx("p",{children:c.description})]})]}),u.jsxs("div",{className:"details_check",children:[u.jsx("h2",{children:l.bouquet}),u.jsxs("div",{className:"view_stars",children:[u.jsx(ee,{rating:g}),u.jsxs("p",{children:[f.length," ",l.review]})]}),u.jsxs("div",{className:"description",children:[u.jsx("h3",{children:l.descrip}),u.jsxs("p",{children:[c.description," "]})]}),u.jsxs("div",{className:"prices",children:[u.jsx("h2",{className:c.discount?"discount":"dnone",children:`${(c.price*c.count-c.discount*c.count).toFixed(2)} р.`}),u.jsx("h2",{className:c.discount?"old_price":"price",children:`${Math.trunc(c.price*c.count).toFixed(2)} р.`})]}),u.jsxs("div",{className:"detail_operations",children:[u.jsxs("div",{className:"detail_count",children:[u.jsx("h3",{children:c.count}),u.jsxs("div",{className:"count_btns",children:[u.jsx("button",{onClick:P,children:u.jsx(wi,{})}),u.jsx("button",{onClick:X,children:u.jsx(Pi,{})})]})]}),u.jsx("button",{className:"order_btn",children:l.order}),u.jsx("button",{className:"buy_btn",onClick:A,children:_?`${l.inBasket}`:`${l.addBasket}`}),u.jsx("button",{className:"favBtn",children:u.jsx("img",{src:"./icons/addFav.svg",alt:""})})]}),u.jsxs("div",{className:"oper_480",children:[u.jsx("button",{className:"order_btn",children:"Заказать"}),u.jsx("button",{className:"buy_btn",onClick:A,children:_?`${l.inBasket}`:`${l.addBasket}`})]}),u.jsx(te,{data:c,words:l}),u.jsxs("div",{className:"details_icons",children:[u.jsx(W,{to:"http/tiktok",children:u.jsx("img",{src:"./icons/tiktokDetails.svg",alt:""})}),u.jsx(W,{to:"http/vk.ru",children:u.jsx("img",{src:"./icons/vkDetails.svg",alt:""})}),u.jsx(W,{to:"http/youtube.com",children:u.jsx("img",{src:"./icons/youtubeDetails.svg",alt:""})}),u.jsx(W,{to:"http/instagram.com",children:u.jsx("img",{src:"./icons/instagramDetails.svg",alt:""})})]})]})]}),u.jsxs("div",{className:"products_hero container",children:[u.jsxs("div",{className:"prod_title",children:[u.jsx("div",{className:"prod_title_left",children:u.jsx("h2",{children:l.withFlower})}),u.jsxs(W,{to:"/catalog",children:[l.catalog," ",u.jsx("img",{src:"./icons/arrow_right.svg",alt:""})]})]}),u.jsx("div",{className:"products",children:v.map(b=>u.jsx(Gi,{data:b},b.id))}),u.jsxs(W,{to:"/catalog",children:[l.catalog," ",u.jsx("img",{src:"./icons/arrow_right.svg",alt:""})]})]}),u.jsx(re,{}),u.jsx(Ji,{id:d}),e&&u.jsx(Ii,{}),u.jsxs("div",{className:"detail_reviews",children:[u.jsx("div",{className:"reviews_hero",children:y.map(b=>u.jsx(ie,{data:b},b.id))}),u.jsx("div",{className:"reviews_btn container",children:u.jsx("button",{className:y.length==3?"":"dnone",onClick:()=>C(f),children:l.else})})]}),u.jsx(xi,{}),u.jsx(ne,{})]})}const Tr=i=>i,zr=ei(Tr)(yr);export{zr as default};
