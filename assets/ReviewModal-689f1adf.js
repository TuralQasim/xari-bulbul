import{j as t,r as N,c as Oe,A as Xe,m as Ze,d as Qe}from"./index-a60306be.js";import{F as Z,S as et}from"./StarRating-a8f1edcf.js";var Pe={},Ae;Object.defineProperty(Pe,"__esModule",{value:!0});var y=t,g=N,d=function(){return d=Object.assign||function(e){for(var r,a=1,i=arguments.length;a<i;a++)for(var s in r=arguments[a])Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);return e},d.apply(this,arguments)};function Ie(e,r,a){if(a||arguments.length===2)for(var i,s=0,c=r.length;s<c;s++)!i&&s in r||(i||(i=Array.prototype.slice.call(r,0,s)),i[s]=r[s]);return e.concat(i||Array.prototype.slice.call(r))}function Me(e){var r=e.size,a=r===void 0?25:r,i=e.SVGstrokeColor,s=i===void 0?"currentColor":i,c=e.SVGstorkeWidth,w=c===void 0?0:c,b=e.SVGclassName,n=b===void 0?"star-svg":b,S=e.SVGstyle;return y.jsx("svg",d({className:n,style:S,stroke:s,fill:"currentColor",strokeWidth:w,viewBox:"0 0 24 24",width:a,height:a,xmlns:"http://www.w3.org/2000/svg"},{children:y.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})}))}function tt(e,r){switch(r.type){case"PointerMove":return d(d({},e),{hoverValue:r.payload,hoverIndex:r.index});case"PointerLeave":return d(d({},e),{ratingValue:e.ratingValue,hoverIndex:0,hoverValue:null});case"MouseClick":return d(d({},e),{valueIndex:e.hoverIndex,ratingValue:r.payload});default:return e}}var rt="style-module_starRatingWrap__q-lJC",ot="style-module_simpleStarRating__nWUxf",st="style-module_fillIcons__6---A",nt="style-module_emptyIcons__Bg-FZ",at="style-module_tooltip__tKc3i";function Re(){return typeof window<"u"&&window.matchMedia("(pointer: coarse)").matches||"ontouchstart"in window||typeof navigator<"u"&&navigator.maxTouchPoints>0}(function(e,r){r===void 0&&(r={});var a=r.insertAt;if(e&&typeof document<"u"){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",a==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}})(".style-module_starRatingWrap__q-lJC{display:inline-block;touch-action:none}.style-module_simpleStarRating__nWUxf{display:inline-block;overflow:hidden;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap}.style-module_fillIcons__6---A{display:inline-block;overflow:hidden;position:absolute;top:0;white-space:nowrap}.style-module_emptyIcons__Bg-FZ{display:inline-block}.style-module_tooltip__tKc3i{background-color:#333;border-radius:5px;color:#fff;display:inline-block;padding:5px 15px;vertical-align:middle}"),Ae=Pe.Rating=function(e){var r,a,i=e.onClick,s=e.onPointerMove,c=e.onPointerEnter,w=e.onPointerLeave,b=e.initialValue,n=b===void 0?0:b,S=e.iconsCount,u=S===void 0?5:S,V=e.size,I=V===void 0?40:V,M=e.readonly,x=M!==void 0&&M,R=e.rtl,_=R!==void 0&&R,O=e.customIcons,C=O===void 0?[]:O,P=e.allowFraction,f=P!==void 0&&P,F=e.style,W=e.className,Q=W===void 0?"react-simple-star-rating":W,$=e.transition,ee=$!==void 0&&$,B=e.allowHover,A=B===void 0||B,z=e.disableFillHover,D=z!==void 0&&z,J=e.fillIcon,te=J===void 0?null:J,U=e.fillColor,re=U===void 0?"#ffbc0b":U,Y=e.fillColorArray,o=Y===void 0?[]:Y,h=e.fillStyle,v=e.fillClassName,Ge=v===void 0?"filled-icons":v,se=e.emptyIcon,Te=se===void 0?null:se,ne=e.emptyColor,Fe=ne===void 0?"#cccccc":ne,Le=e.emptyStyle,ae=e.emptyClassName,We=ae===void 0?"empty-icons":ae,ie=e.allowTitleTag,$e=ie===void 0||ie,le=e.showTooltip,Be=le!==void 0&&le,ce=e.tooltipDefaultText,ze=ce===void 0?"Your Rate":ce,de=e.tooltipArray,q=de===void 0?[]:de,De=e.tooltipStyle,ue=e.tooltipClassName,Je=ue===void 0?"react-simple-star-rating-tooltip":ue,me=e.SVGclassName,he=me===void 0?"star-svg":me,ve=e.titleSeparator,Ue=ve===void 0?"out of":ve,pe=e.SVGstyle,ge=e.SVGstorkeWidth,xe=ge===void 0?0:ge,fe=e.SVGstrokeColor,je=fe===void 0?"currentColor":fe,ye=g.useReducer(tt,{hoverIndex:0,valueIndex:0,ratingValue:n,hoverValue:null}),H=ye[0],p=H.ratingValue,m=H.hoverValue,oe=H.hoverIndex,we=H.valueIndex,K=ye[1];g.useEffect(function(){n&&K({type:"MouseClick",payload:0})},[n]);var E=g.useMemo(function(){return f?2*u:u},[f,u]),G=g.useMemo(function(){return n>E?0:f||Math.floor(n)===n?Math.round(n/u*100):2*Math.ceil(n)*10},[f,n,u,E]),_e=g.useMemo(function(){return(f?2*n-1:n-1)||0},[f,n]),T=g.useCallback(function(l){return u%2!=0?l/2/10:l*u/100},[u]),be=function(l){for(var k=l.clientX,j=l.currentTarget.children[0].getBoundingClientRect(),qe=j.left,He=j.right,Ke=j.width,Ee=_?He-k:k-qe,X=E,ke=Math.round(Ke/E),L=0;L<=E;L+=1)if(Ee<=ke*L){X=L===0&&Ee<ke?0:L;break}var Ve=X-1;X>0&&(K({type:"PointerMove",payload:100*X/E,index:Ve}),s&&m&&s(T(m),Ve,l))},Ne=function(l){m&&(K({type:"MouseClick",payload:m}),i&&i(T(m),oe,l))},Ye=g.useMemo(function(){if(A){if(D){var l=p&&p||G;return m&&m>l?m:l}return m&&m||p&&p||G}return p&&p||G},[A,D,m,p,G]);g.useEffect(function(){q.length>E&&console.error("tooltipArray Array length is bigger then Icons Count length.")},[q.length,E]);var Se=g.useCallback(function(l){return m&&l[oe]||p&&l[we]||n&&l[_e]},[m,oe,p,we,n,_e]),Ce=g.useMemo(function(){return m&&T(m)||p&&T(p)||n&&T(G)},[m,T,p,n,G]);return y.jsxs("span",d({className:rt,style:{direction:"".concat(_?"rtl":"ltr")}},{children:[y.jsxs("span",d({className:"".concat(ot," ").concat(Q),style:d({cursor:x?"":"pointer"},F),onPointerMove:x?void 0:be,onPointerEnter:x?void 0:function(l){c&&c(l),Re()&&be(l)},onPointerLeave:x?void 0:function(l){Re()&&Ne(),K({type:"PointerLeave"}),w&&w(l)},onClick:x?void 0:Ne,"aria-hidden":"true"},{children:[y.jsx("span",d({className:"".concat(nt," ").concat(We),style:d({color:Fe},Le)},{children:Ie([],Array(u),!0).map(function(l,k){var j;return y.jsx(g.Fragment,{children:((j=C[k])===null||j===void 0?void 0:j.icon)||Te||y.jsx(Me,{SVGclassName:he,SVGstyle:pe,SVGstorkeWidth:xe,SVGstrokeColor:je,size:I})},k)})})),y.jsx("span",d({className:"".concat(st," ").concat(Ge),style:d((r={},r[_?"right":"left"]=0,r.color=Se(o)||re,r.transition=ee?"width .2s ease, color .2s ease":"",r.width="".concat(Ye,"%"),r),h),title:$e?"".concat(Ce," ").concat(Ue," ").concat(u):void 0},{children:Ie([],Array(u),!0).map(function(l,k){var j;return y.jsx(g.Fragment,{children:((j=C[k])===null||j===void 0?void 0:j.icon)||te||y.jsx(Me,{SVGclassName:he,SVGstyle:pe,SVGstorkeWidth:xe,SVGstrokeColor:je,size:I})},k)})}))]})),Be&&y.jsx("span",d({className:"".concat(at," ").concat(Je),style:d((a={},a[_?"marginRight":"marginLeft"]=20,a),De)},{children:(q.length>0?Se(q):Ce)||ze}))]}))};function it({id:e,reviewModal:r,dispatch:a,dinWords:i,language:s}){const c=i[s].review,[w,b]=N.useState({value:"",isError:""}),[n,S]=N.useState({value:"",isError:""}),[u,V]=N.useState({value:"",isError:""}),[I,M]=N.useState({value:0,isError:""}),[x,R]=N.useState(""),[_,O]=N.useState(""),[C,P]=N.useState(""),[f,F]=N.useState(""),W=o=>{M({value:o,isError:""})},Q=o=>{b(h=>({...h,value:o.target.value}))},$=o=>{S(h=>({...h,value:o.target.value}))},ee=o=>{V(h=>({...h,value:o.target.value}))},B=o=>{const h=o.target.files[0],v=new FileReader;v.onloadend=()=>{x?_?C?F(v.result.toString()):P(v.result.toString()):O(v.result.toString()):R(v.result.toString())},v.readAsDataURL(h)};let A=new Date,z=String(A.getDate()).padStart(2,"0"),D=String(A.getMonth()+1).padStart(2,"0"),J=A.getFullYear(),te=z+"."+D+"."+J;const U=()=>{I.value==""?M(o=>({...o,isError:!0})):w.value==""?b(o=>({...o,isError:!0})):n.value==""?S(o=>({...o,isError:!0})):u.value==""?V(o=>({...o,isError:!0})):(fetch("http://localhost:3000/reviews",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({product_id:e,stars:I.value,user:w.value,email:n.value,content:u.value,images:[x,_,C,f],data:te})}).then(o=>o.json()).then(o=>o).catch(o=>{console.error("Error:",o)}),M({value:0,isError:""}),R(""),O(""),P(""),F(""),b({value:"",isError:""}),S({value:"",isError:""}),V({value:"",isError:""}),a({type:"REVIEW_MODAL",payload:!r}))};function re(){var o=window.pageYOffset||document.documentElement.scrollTop,h=window.pageXOffset||document.documentElement.scrollLeft;window.onscroll=function(){window.scrollTo(h,o)}}function Y(){window.onscroll=null}return r?re():Y(),t.jsxs("div",{className:"add_review container",children:[t.jsxs("div",{className:"rev_stars",children:[t.jsxs("p",{children:[c.star," "]}),t.jsx(Ae,{onClick:W}),t.jsx("h5",{className:I.isError?"":"dnone",children:c.chooseStar})]}),t.jsxs("form",{children:[t.jsx("input",{type:"text",placeholder:w.isError?`${c.importantPlace}`:`${c.namePlace}`,onChange:Q,value:w.value,className:w.isError?"red":""}),t.jsx("input",{type:"email",placeholder:n.isError?`${c.importantPlace}`:`${c.mailPlace}`,value:n.value,onChange:$,className:n.isError?"red":""}),t.jsx("textarea",{cols:"30",rows:"10",placeholder:u.isError?`${c.importantPlace}`:`${c.reviewPlace}`,value:u.value,onChange:ee,className:u.isError?"red":""}),t.jsxs("div",{className:"add_images",children:[t.jsxs("div",{className:"add_img_hero",children:[t.jsxs("div",{className:"file_input",children:[t.jsx("input",{type:"file",onChange:o=>B(o)}),t.jsx("img",{src:"./icons/camera.svg",alt:""})]}),t.jsx("div",{className:x?"img_box":"img_box orderminus",children:x?t.jsxs("div",{className:"img_box_hero",children:[t.jsx("img",{src:x,alt:""}),t.jsx("div",{className:"box_svg",children:t.jsx(Z,{onClick:()=>R("")})})]}):t.jsx("p",{})}),t.jsx("div",{className:_?"img_box":"img_box orderminus",children:_?t.jsxs("div",{className:"img_box_hero",children:[t.jsx("img",{src:_,alt:""}),t.jsx("div",{className:"box_svg",children:t.jsx(Z,{onClick:()=>O("")})})]}):t.jsx("p",{})}),t.jsx("div",{className:C?"img_box":"img_box orderminus",children:C?t.jsxs("div",{className:"img_box_hero",children:[t.jsx("img",{src:C,alt:""}),t.jsx("div",{className:"box_svg",children:t.jsx(Z,{onClick:()=>P("")})})]}):t.jsx("p",{})}),t.jsx("div",{className:f?"img_box":"img_box orderminus",children:f?t.jsxs("div",{className:"img_box_hero",children:[t.jsx("img",{src:f,alt:""}),t.jsx("div",{className:"box_svg",children:t.jsx(Z,{onClick:()=>F("")})})]}):t.jsx("p",{})})]}),t.jsx("p",{children:c.notMore})]}),t.jsx("button",{type:"button",onClick:U,children:c.submitBtn})]})]})}const lt=e=>e,ht=Oe(lt)(it);function vt({data:e}){let r=e.images.filter(a=>a!="");return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"review_item container",children:[t.jsx("div",{className:"user_img",children:t.jsx("img",{src:"./data/details/user.png",alt:""})}),t.jsxs("div",{className:"review_right",children:[t.jsxs("div",{className:"review_top",children:[t.jsx("h2",{className:"user_name",children:e.user}),t.jsx("h3",{className:"review_date",children:e.date}),t.jsx("div",{className:"stars",children:t.jsx(et,{rating:e.stars})})]}),t.jsxs("div",{className:"review_bottom",children:[t.jsx("p",{children:e.content}),t.jsx("div",{className:"review_images",children:r&&r.map(a=>t.jsx("img",{src:a,alt:""},a))})]})]})]})})}function ct({dispatch:e,reviewModal:r,words:a}){const i=()=>{e({type:"REVIEW_MODAL",payload:!r})};return t.jsx("div",{className:"review_modal_bg",onClick:i,children:t.jsx(Xe,{children:t.jsxs(Ze.div,{initial:{scale:.7,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.7,opacity:0},className:"review_modal",onClick:s=>s.stopPropagation(),children:[t.jsx("img",{src:"./data/homeImages/left_top.png",alt:""}),t.jsx("h2",{children:a.thank}),t.jsx(Qe,{onClick:i})]})})})}const dt=e=>e,pt=Oe(dt)(ct);export{ht as A,pt as R,vt as a};
