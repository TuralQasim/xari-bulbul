import{e as a,c as x,j as s,L as h}from"./index-112c2ac5.js";import{M as m}from"./Map-5e0feb98.js";import{S as j}from"./ScrollTop-9612ab8b.js";function u(e){return a({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]})(e)}function p({data:e,images:l,dispatch:r}){let c=l.find(i=>i.id==e.id);const t=()=>{r({type:"DELETE_BASKET",payload:e.id})},o=()=>{r({type:"INC_COUNT",payload:e.id})},d=()=>{e.count>1&&r({type:"DEC_COUNT",payload:e.id})};return s.jsxs("div",{className:"basket_item",children:[s.jsx(u,{className:"basket_close",onClick:t}),s.jsx("div",{className:"basket_img",children:s.jsxs(h,{to:`/details/${e==null?void 0:e.id}`,children:[" ",s.jsx("img",{src:c.src[0],alt:""})]})}),s.jsxs("div",{className:"basket_name",children:[e.title.slice(0,45),"..."]}),e.discount?s.jsxs("div",{className:"basket_dis",children:[s.jsx("h2",{children:+e.price}),s.jsx("h3",{children:(+e.price-+e.discount).toFixed(2)})]}):s.jsx("div",{className:"basket_price",children:s.jsx("h2",{children:+e.price})}),s.jsxs("div",{className:"basket_count",children:[s.jsx("button",{onClick:d,children:"-"}),s.jsx("h2",{children:e.count}),s.jsx("button",{onClick:o,children:"+"})]}),e.discount?s.jsxs("div",{className:"discount_summary",children:[s.jsx("h3",{children:(+e.price*+e.count).toFixed(2)}),s.jsx("h2",{children:(+e.price*+e.count-+e.discount*+e.count).toFixed(2)})]}):s.jsx("div",{className:"basket_summary",children:s.jsx("h2",{children:(+e.price*+e.count).toFixed(2)})})]})}const N=e=>e,_=x(N)(p);function k({products:e,basket:l,dinWords:r}){const c=r.basket;let t=[];l.length&&l.map(i=>{e.map(n=>{i==n.id&&t.push(n)})});let o=t.reduce((i,n)=>i+(+n.price*n.count-+n.discount*n.count),0).toFixed(2),d=t.reduce((i,n)=>i+ +n.discount*n.count,0).toFixed(2);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"container",children:l.length?s.jsxs("div",{className:"basket_main",children:[s.jsx("h2",{className:"basket_title",children:c.basket}),s.jsxs("div",{className:"basket_top",children:[s.jsx("h5",{className:"empty_title"}),s.jsx("h5",{className:"name_title",children:c.name}),s.jsx("h5",{className:"price_title",children:c.price}),s.jsx("h5",{className:"count_title",children:c.count}),s.jsx("h5",{className:"summary_title",children:c.all})]}),s.jsx("div",{className:"basket_hero",children:t.map(i=>s.jsx(_,{data:i},i.id))}),s.jsxs("div",{className:"summary_price",children:[s.jsxs("h2",{children:[c.allDis," ",s.jsxs("span",{children:[+d," AZN"]})]}),s.jsxs("h2",{children:[c.toPay," ",s.jsxs("span",{children:[+o," AZN"]})]}),s.jsx(h,{to:"/order",children:c.orderBtn})]})]}):s.jsxs("div",{className:"not_fav not_basket",children:[s.jsx("h2",{children:c.nothing}),s.jsx("p",{children:c.toHome}),s.jsx(h,{to:"/",children:c.homeBtn})]})}),s.jsx(m,{}),s.jsx(j,{})]})}const v=e=>e,C=x(v)(k);export{C as default};
